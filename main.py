import yaylib
import random
import time
import os
import threading
from datetime import datetime
import pytz

# --- å…±é€šè¨­å®š ---
jst = pytz.timezone('Asia/Tokyo')

# ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—
account_list = os.getenv('YAY_ACCOUNTS', '').split(',')
accounts = []
for account in account_list:
    parts = account.split(':')
    if len(parts) == 2:
        accounts.append({'email': parts[0], 'password': parts[1]})

# ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
yay_clients = []
print(f"ğŸŒ ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†é–‹å§‹ï¼ˆ{len(accounts)}ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰")
for account in accounts:
    try:
        client = yaylib.Client()
        client.login(account["email"], account["password"])
        yay_clients.append((client, account["email"]))  # client, email ã‚’ãƒšã‚¢ã§ä¿å­˜
        print(f"âœ… {account['email']} ã§ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ")
    except Exception as e:
        print(f"âŒ {account['email']} ã®ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—: {e}")

if not yay_clients:
    print("ğŸš¨ ãƒ­ã‚°ã‚¤ãƒ³ã§ããŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚çµ‚äº†ã—ã¾ã™ã€‚")
    exit(1)

# --- æŠ•ç¨¿ãƒ†ã‚­ã‚¹ãƒˆã®è¨­å®š ---
post_texts = {
1: ["ã‚‚ã†1æ™‚ï¼ï¼Ÿæ™‚é–“æ—©ã™ãâ€¦", "æ·±å¤œã®ãƒãƒƒãƒˆã‚µãƒ¼ãƒ•ã‚£ãƒ³ãŒæ­¢ã¾ã‚‰ãªã„", "èª°ã‹é›»è©±ã—ãªã„ï¼Ÿ", "ã‚³ãƒ³ãƒ“ãƒ‹è¡ŒããŸã„",
    "å¤œä¸­ã®ãƒ©ãƒ¼ãƒ¡ãƒ³ã¯æœ€å¼·", "çœ ã‚Œãªã„äººã„ã‚‹ã€œï¼Ÿ", "ãã‚ãã‚å¯ãªã„ã¨", "æ˜æ—¥èµ·ãã‚Œã‚‹ã‹ãªâ€¦", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

2: ["æ·±å¤œçµ„é›†åˆã€œï¼", "ã‚‚ã†ãã‚ãã‚å¯ãªã„ã¨", "YouTubeè¦‹ã¦ãŸã‚‰ã“ã‚“ãªæ™‚é–“", "å°è…¹ã™ã„ãŸãªãâ€¦",
    "å¤œä¸­ã«é£Ÿã¹ã‚‹ãŠè“å­ã¯ç½ªã ã‘ã©ç¾å‘³ã„", "æœãŒæ¥ã‚‹å‰ã«å¯ã‚‹ãï¼", "å¯ã‚‹å‰ã«ã‚¹ãƒˆãƒ¬ãƒƒãƒã—ã‚ˆ", "ãƒ©ã‚¸ã‚ªè´ã„ã¦ã‚‹", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

3: ["ã“ã®æ™‚é–“èµ·ãã¦ã‚‹ã®ã¯å°‘æ•°æ´¾â€¦ï¼Ÿ", "å®Œå…¨ã«å¤œæ›´ã‹ã—ã—ã™ããŸ", "3æ™‚ã£ã¦ä¸€ç•ªçœ ããªã‚‹æ™‚é–“â€¦", "ã‚‚ã†å¯ãªãã‚ƒâ€¦",
    "å¤œã®é™ã‘ã•ã£ã¦è½ã¡ç€ã", "SNSè¦‹ã¦ãŸã‚‰æ™‚é–“æº¶ã‘ãŸ", "ãã‚ãã‚å¯è½ã¡ã—ãã†", "å¤œä¸­ã«è€ƒãˆäº‹ã—ã¡ã‚ƒã†â€¦", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

4: ["ãŠã¯ã‚ˆã†ã£ã¦è¨€ã£ã¦ã„ã„ã®ã‹å¾®å¦™ãªæ™‚é–“", "æ—©èµ·ãï¼Ÿãã‚Œã¨ã‚‚å¤œæ›´ã‹ã—ï¼Ÿ", "ç©ºãŒå°‘ã—ãšã¤æ˜ã‚‹ããªã£ã¦ããŸ", "ã“ã®æ™‚é–“ã®ç©ºæ°—å¥½ã",
    "ã‚‚ã†æœã‹ãâ€¦", "ã¡ã‚‡ã£ã¨ã ã‘äºŒåº¦å¯ã—ãŸã„", "æœæ—¥ãŒç¶ºéº—", "æ—©èµ·ãã¯ä¸‰æ–‡ã®å¾³ã£ã¦ã»ã‚“ã¨ï¼Ÿ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

5: ["æœãŒæ¥ãŸã€œ", "å®Œå…¨ã«å¯ä¸è¶³", "ã‚‚ã†æœï¼ï¼Ÿ", "ç›®ãŒé–‹ã‹ãªã„â€¦", "ã‚³ãƒ¼ãƒ’ãƒ¼é£²ã¾ãªãã‚ƒ", "ä»Šæ—¥ã¯ä½•ã—ã‚ˆã†ï¼Ÿ", "èµ·ããŸã‘ã©å¸ƒå›£ã‹ã‚‰å‡ºã‚Œãªã„",
    "å¯åŠã—ãŸã‹ã‚‚â€¦", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

6: ["ãŠã¯ã‚ˆã€œï¼ä»Šæ—¥ã‚‚é ‘å¼µã‚ã£", "ã­ã‚€ã„â€¦ã‚ã¨5åˆ†å¯ãŸã„", "æœã”ã¯ã‚“é£Ÿã¹ãŸï¼Ÿ", "ä»Šæ—¥ã®äºˆå®šãƒã‚§ãƒƒã‚¯ã—ãªãã‚ƒ", 
    "ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯é£²ã‚‚ã†ã‹ãª", "æœã‹ã‚‰å…ƒæ°—ãªäººã™ã”ã„", "ã™ã§ã«çœ ã„", "ã¨ã‚Šã‚ãˆãšé¡”æ´—ãŠ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

7: ["ã¾ã ã¡ã‚‡ã£ã¨çœ ã„â€¦", "æœã”ã¯ã‚“é£Ÿã¹ãŸï¼Ÿ", "æ”¯åº¦ã—ãªãã‚ƒ", "ä»Šæ—¥ã®æœã©ã†ã—ã‚ˆã†", "å¤–å¯’ã„ã‹ãªï¼Ÿ", "é›»è»Šæ··ã‚“ã§ãã†â€¦", 
    "ã‚‚ã†ã¡ã‚‡ã£ã¨å¸ƒå›£ã«ã„ãŸã„", "å­¦æ ¡orä»•äº‹è¡ŒããŸããªã„", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

8: ["çœ ã™ã", "é›»è»Šæ··ã‚“ã§ã‚‹â€¦", "ä¼šç¤¾orå­¦æ ¡ã¤ã„ãŸï¼Ÿ", "æœã®ç©ºæ°—æ°—æŒã¡ã„ã„", "é…åˆ»ã—ãã†", "é€šå‹¤ãƒ»é€šå­¦ä¸­",
    "ä»Šæ—¥ã‚‚é ‘å¼µã‚‹ãï¼", "ã‚ã¨ä½•æ™‚é–“å¾Œã«å¸°ã‚Œã‚‹ã‚“ã ã‚", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

9: ["ãã‚ãã‚ãŠè…¹ã™ã„ã¦ããŸã‹ã‚‚", "ä»•äº‹ä¸­ã ã€œ", "åˆå‰ä¸­ãŒé•·ã„â€¦", "é›†ä¸­åŠ›ãŒã‚‚ãŸãªã„", "æœã”ã¯ã‚“è¶³ã‚Šãªã‹ã£ãŸ",
    "æ—©ãä¼‘æ†©ã—ãŸã„", "ã‚ã¨å°‘ã—ã§ãŠæ˜¼ã”ã¯ã‚“ï¼", "èª°ã‹ãƒ©ãƒ³ãƒè¡Œã“ã€œ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

10: ["ã¡ã‚‡ã£ã¨ä¸€æ¯ã¤ã“", "ã¿ã‚“ãªãªã«ã—ã¦ã‚‹ã®ã€œï¼Ÿï¼Ÿ", "ã‚³ãƒ¼ãƒ’ãƒ¼ã‚¿ã‚¤ãƒ ", "æ¬¡ã®ä¼‘æ†©ã¾ã§ã‚ã¨ä½•æ™‚é–“â€¦", "ãã‚ãã‚çœ ããªã£ã¦ããŸ",
    "ã‚„ã‚‹æ°—ã‚¹ã‚¤ãƒƒãƒã©ã“â€¦", "å°è…¹ã™ã„ãŸ", "ä»•äº‹oræˆæ¥­çµ‚ã‚ã£ãŸã‚‰ä½•ã—ã‚ˆã†", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

11: ["ãŠæ˜¼ã”ã¯ã‚“ã©ã†ã—ã‚ˆã€œ", "ãƒ©ãƒ³ãƒä½•ã«ã—ã‚ˆã†ã‹è¿·ã†", "ãŠã™ã™ã‚ã®ãƒ©ãƒ³ãƒã‚ã‚‹ï¼Ÿ", "ãŠå¼å½“æ´¾ï¼Ÿå¤–é£Ÿæ´¾ï¼Ÿ", 
    "ã‚‚ã†ãŠæ˜¼ã”ã¯ã‚“é£Ÿã¹ãŸï¼Ÿ", "åˆå¾Œã‚‚é ‘å¼µã‚‹ãŸã‚ã«ãŸãã•ã‚“é£Ÿã¹ã‚‹", "ã”é£¯ã‚ˆã‚ŠãŠæ˜¼å¯ã—ãŸã„", "é£Ÿã¹ã™ãæ³¨æ„ï¼", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

12: ["ãƒ©ãƒ³ãƒãªã†", "ãŠæ˜¼ã”ã¯ã‚“ç¾å‘³ã—ã™ã", "åˆå¾Œã®äºˆå®šè€ƒãˆä¸­", "ãƒ‡ã‚¶ãƒ¼ãƒˆã‚‚é£Ÿã¹ãŸã„", "çœ ããªã£ã¦ããŸâ€¦", 
    "åˆå¾Œã‚‚é ‘å¼µã‚‹ãï¼", "ã”é£¯é£Ÿã¹ã‚‹ã¨å…ƒæ°—ã§ã‚‹", "ã¿ã‚“ãªä½•é£Ÿã¹ãŸï¼Ÿ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

13: ["åˆå¾Œã®ä»•äº‹oræˆæ¥­ã‚¹ã‚¿ãƒ¼ãƒˆï¼", "ãƒ©ãƒ³ãƒå¾Œã£ã¦çœ ããªã‚‹ã‚ˆã­", "é›†ä¸­åŠ›ãŒè©¦ã•ã‚Œã‚‹æ™‚é–“", "çœ æ°—ã¨æˆ¦ã„ä¸­",
    "ã‚«ãƒ•ã‚§è¡ŒããŸã„", "ä»Šæ—¥ã®åˆå¾Œã¯é•·ãã†â€¦", "ã‚‚ã†ã²ã¨é ‘å¼µã‚Šï¼", "ä¼‘æ†©æ™‚é–“ãŒå¾…ã¡é ã—ã„", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

14: ["ã¾ã ãŠæ˜¼ã®çœ æ°—ãŒæŠœã‘ãªã„", "ãã‚ãã‚ãŠã‚„ã¤ã®æ™‚é–“", "åˆå¾Œã®ã‚³ãƒ¼ãƒ’ãƒ¼ã¯å¿…é ˆ", "å°‘ã—æ­©ã„ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ã‚ˆ",
    "ã‚ã¨ä½•æ™‚é–“ã§çµ‚ã‚ã‚‹ã‚“ã â€¦", "æ¬¡ã®ä¼‘æ†©ã¾ã§ãŒé ã„", "é ‘å¼µã‚‹äººãˆã‚‰ã„ï¼", "ã¡ã‚‡ã£ã¨æ¯æŠœãã—ã‚ˆ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

15: ["ãŠã‚„ã¤ã‚¿ã‚¤ãƒ ã€œ", "ã‚ã¨å°‘ã—ã§çµ‚æ¥­æ™‚é–“â€¦", "ãƒãƒ§ã‚³é£Ÿã¹ãŸã„", "ãŠè…¹ã™ã„ã¦ããŸâ€¦", "ä»•äº‹ãŒçµ‚ã‚ã‚‹æ°—ãŒã—ãªã„",
    "é ‘å¼µã‚Œè‡ªåˆ†ï¼", "æ™‚è¨ˆè¦‹ã™ãã‚‹æ™‚é–“", "çµ‚ã‚ã£ãŸã‚‰ä½•ã—ã‚ˆã†ã‹ãª", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

16: ["ã‚ã¨å°‘ã—ã§ä»•äº‹çµ‚ã‚ã‚‹ï¼ï¼ã•ã„ã“ãƒ¼ãƒ¼", "å¤•æ–¹ã®ç©ºã£ã¦ç¶ºéº—ã ã‚ˆã­", "å¸°ã‚ŠãŸã„â€¦", "ä»Šæ—¥ã‚‚1æ—¥ãŠç–²ã‚Œæ§˜ï¼",
    "ã‚ã¨ã¡ã‚‡ã£ã¨é ‘å¼µã‚ã†ï¼", "æ™©ã”ã¯ã‚“ä½•é£Ÿã¹ã‚ˆã†", "å¸°ã‚Šé“ãŒå¥½ã", "æ˜æ—¥ã®äºˆå®šè€ƒãˆãªãã‚ƒ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

17: ["ã¿ã‚“ãªãŠã¤ã‹ã‚Œã•ã¾ï¼", "å¤•æ–¹ã®ã“ã®æ™‚é–“ã€å¥½ãã‹ã‚‚", "ä»•äº‹orå­¦æ ¡çµ‚ã‚ã£ãŸï¼Ÿ", "å¸°ã‚Šé“ã®ç©ºãŒãã‚Œã„", 
    "ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ é–‹å§‹ï¼", "ä»Šæ—¥é ‘å¼µã£ãŸè‡ªåˆ†ã‚’è¤’ã‚ã‚‹", "å‹é”ã¨ã”é£¯è¡ŒããŸã„", "å¤•æ–¹ã®é¢¨ãŒæ°—æŒã¡ã„ã„", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

18: ["å¤œã”é£¯ã®æ™‚é–“ã ã€œï¼", "ä»Šæ—¥ã®å¤•é£¯ã¯ä½•ã ã¨æ€ã†ï¼Ÿ", "ã¿ã‚“ãªä½•é£Ÿã¹ã‚‹ã®ï¼Ÿ", "å¤–é£Ÿã—ãŸã„æ°—åˆ†", 
    "å®¶ã§ã®ã‚“ã³ã‚Šã”é£¯ã‚‚ã„ã„ã‚ˆã­", "ãŠè…¹ãºã“ãºã“", "è‡ªç‚Šã™ã‚‹ã‹è¿·ã†â€¦", "å¤œã”é£¯ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ±ºã¾ã‚‰ã‚“ï¼", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

19: ["å¤œã”é£¯é£Ÿã¹çµ‚ã‚ã£ãŸï¼Ÿ", "ã“ã®æ™‚é–“ã¯YouTubeã‹ãƒãƒˆãƒ•ãƒªè¦‹ãŸããªã‚‹", "ã‚²ãƒ¼ãƒ ã™ã‚‹æ™‚é–“ï¼", "ã”é£¯é£Ÿã¹ã™ããŸã‹ã‚‚â€¦",
    "ãŠé¢¨å‘‚å…¥ã‚‹ã®ã‚ã‚“ã©ã„", "ã‚‚ã†çœ ã„â€¦", "å¤œã®æ™‚é–“ã£ã¦ã‚ã£ã¨ã„ã†é–“", "å¯ã‚‹å‰ã«ã¡ã‚‡ã£ã¨ã ã‘SNS", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

20: ["å¤œã®ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ ", "ãã‚ãã‚ãŠé¢¨å‘‚å…¥ã‚ã†ã‹ãª", "1æ—¥ã‚ã£ã¨ã„ã†é–“ã ã£ãŸ", "æ˜æ—¥ã®æº–å‚™ã—ãªãã‚ƒ",
    "ä»Šæ—¥ã‚„ã‚Šæ®‹ã—ãŸã“ã¨ã‚ã‚‹â€¦", "å¤œã®éŸ³æ¥½ã‚¿ã‚¤ãƒ ", "ã¾ã£ãŸã‚Šæ™‚é–“ãŒæœ€é«˜", "å¯ã‚‹å‰ã«ã‚¹ãƒˆãƒ¬ãƒƒãƒ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

21: ["ãã‚ãã‚å¯ã‚‹æº–å‚™ã—ã¦ã‚‹ï¼Ÿ", "ä»Šæ—¥ã®æŒ¯ã‚Šè¿”ã‚Šä¸­", "æ˜æ—¥ã‚‚é ‘å¼µã‚ã†", "ã¡ã‚‡ã£ã¨ã ã‘å¤œæ›´ã‹ã—",
    "å¤œã®ç©ºã£ã¦è½ã¡ç€ã", "çœ ã„ã‘ã©ã‚¹ãƒãƒ›ã„ã˜ã£ã¡ã‚ƒã†", "å¸ƒå›£ã®ä¸­ãŒå¤©å›½", "å¯è½ã¡ã—ãã†", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

22: ["å¯ã‚‹å‰ã®ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ ", "å¤œæ›´ã‹ã—ã™ã‚‹äººã€œï¼Ÿ", "ä»Šæ—¥1æ—¥ã©ã†ã ã£ãŸï¼Ÿ", "ã‚‚ã†å¯ãªãã‚ƒã ã‘ã©SNSè¦‹ã¡ã‚ƒã†",
    "æ˜æ—¥ã“ãæ—©å¯ã™ã‚‹ï¼", "ãƒ™ãƒƒãƒ‰ãŒå¹¸ã›ã™ãã‚‹", "ã„ã„å¤¢è¦‹ã‚Œã¾ã™ã‚ˆã†ã«", "ç›®é–‰ã˜ãŸã‚‰ä¸€ç¬ã§æœããã†", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

23: ["ãã‚ãã‚å¯ã‚ˆã†ã‹ãª", "å¤œã£ã¦è‰²ã€…è€ƒãˆã¡ã‚ƒã†ã‚ˆã­", "çœ ã‚Œãªã„äººã„ã‚‹ï¼Ÿ", "æ•ãŒæ°—æŒã¡ã‚ˆã™ãã‚‹",
    "å¤œã®é™ã‘ã•ãŒå¥½ã", "å¸ƒå›£ã«å…¥ã‚‹ã¨ã‚¹ãƒãƒ›è§¦ã£ã¡ã‚ƒã†", "å¯ã‚‹å‰ã«ã¡ã‚‡ã£ã¨ãŠè©±ã—ãŸã„", "ãŠã‚„ã™ã¿ãªã•ã„ã€œ", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"],

24: ["ã“ã‚“ãªæ™‚é–“ã¾ã§èµ·ãã¦ã‚‹äººã„ã‚‹ï¼Ÿ", "ãã‚ãã‚å¯ã‚‹æº–å‚™ã—ã‚ˆã€œ", "æ˜æ—¥ãŒæ¥ã‚‹ã®æ—©ã™ãã‚‹", "å¯ã‚ˆã†ã¨æ€ã£ãŸã®ã«çœ ããªã„",
    "èª°ã‹ã¨è©±ã—ãŸããªã‚‹æ™‚é–“", "å¤œæ›´ã‹ã—ã—ã™ããŸã‹ã‚‚â€¦", "æ°—ã¥ã„ãŸã‚‰ã“ã‚“ãªæ™‚é–“", "ãã‚ãã‚å¤¢ã®ä¸­ã¸â€¦", "ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"]
}

dm_text = " ã€ã ã‚Œã‹DMãã¦ãã ã•ã„ã€‚"

# æ™‚é–“å¸¯ã«å¿œã˜ãŸæŠ•ç¨¿ã‚’å–å¾—ï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã«é•ã†æŠ•ç¨¿ã‚’ç”Ÿæˆï¼‰
def get_time_based_post(seed_offset):
    now = datetime.now(jst).hour
    if now == 0:
        now = 24  # 0æ™‚ã‚’24æ™‚ã¨ã—ã¦æ‰±ã†
    random.seed(time.time() + seed_offset)  # å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§é•ã†ä¹±æ•°ã‚’ç”Ÿæˆ
    post = random.choice(post_texts.get(now, ["ã¤ãƒ¼ã‚ã¼ #ã„ã„ã­ã§ã“ã¡ã‚ƒ"]))
    if random.randint(1, 4) == 1:
        post += dm_text
    return post

# æ™‚é–“æŒ‡å®šæŠ•ç¨¿ã®ãƒ«ãƒ¼ãƒ—
def time_based_posting_loop():
    while True:
        print("\nğŸŒŸ æ–°ã—ã„æŠ•ç¨¿ã‚µã‚¤ã‚¯ãƒ«é–‹å§‹")
        for index, (client, email) in enumerate(yay_clients):
            try:
                post = get_time_based_post(index)  # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã«ç•°ãªã‚‹æŠ•ç¨¿ã‚’ç”Ÿæˆ
                client.create_post(post)
                print(f"âœ… æŠ•ç¨¿æˆåŠŸ: {email} -> {post}")
            except Exception as e:
                print(f"âŒ æŠ•ç¨¿ã‚¨ãƒ©ãƒ¼ ({email}): {e}")

        print("â³ æ¬¡ã®æŠ•ç¨¿ã¾ã§15åˆ†å¾…æ©Ÿ...")
        time.sleep(900)  # 15åˆ†ã”ã¨ã«æŠ•ç¨¿

# ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’é–‹å§‹
threading.Thread(target=time_based_posting_loop, daemon=True).start()

# ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ç¶­æŒ
while True:
    time.sleep(1)
